<app-confirm-modal
  [isVisible]="isConfirmTargetLangDeletionModalVisible"
  [title]="modalTitle"
  [message]="modalMessage"
  [confirmText]="modalConfirmText"
  (close)="closeTargetLangDeletionConfirmModal()"
  (confirm)="confirmTargetLangDeletion()"
  [useCountdown]="true">
</app-confirm-modal>

<app-navbar></app-navbar>

<div class="base-container">
  <app-settings-tabs></app-settings-tabs>

  <div class="section-block card">
    <div class="title">Fluent Languages</div>

    <div class="row-content">
      <app-fluent-language-selector
        *ngIf="fluentEditable"
        class="fluent-language-selector"
        [languages]="languages"
        [size]="'m'"
        [selectedLanguages]="currentFluentLanguages"
        (selectedFluentLanguages)="onFluentLanguagesSelected($event)"></app-fluent-language-selector>

      <div class="fluent-chips" *ngIf="!fluentEditable">
        <div *ngFor="let language of currentFluentLanguages">
          <tui-chip appearance="primary">{{ language }}</tui-chip>
        </div>
      </div>

      <app-edit-button
        class="edit-element"
        [disabled]="!(fluentEnabled$ | async)"
        [label]="'Save'"
        [editable]="fluentEditable"
        (clickFunction)="onFluentEdit()">
      </app-edit-button>
    </div>
  </div>
  <div class="section-block card">
    <div class="title">Target Languages</div>

    <div class="row-content">
      <tui-segmented size='m' [(activeItemIndex)]="selectedTargetedLanguageIndex">
        <button *ngFor="let language of currentTargetLanguages" type="button"> {{ language }}</button>
      </tui-segmented>
    </div>
  </div>

  <div class="danger section-block">
    <span class="danger-text">Danger Zone</span>
    <button class="btn btn-danger" (click)="deleteTargetLang()">
      <tui-icon
        icon="@tui.trash-2"
        class="delete-icon"
        [style.height.px]="18"
        [style.width.px]="18"
      />
      Delete {{ currentTargetLanguages[selectedTargetedLanguageIndex] }}
    </button>
  </div>
</div>
